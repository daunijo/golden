[
 {
  "_liked_by": "[\"Administrator\"]", 
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Material Request", 
  "modified": "2018-02-10 20:09:49.855508", 
  "name": "Material Request-Client", 
  "script": "frappe.ui.form.on(\"Material Request\", {\n\tsetup: function(frm) {\n\t\tfrm.get_field('items').grid.editable_fields = [\n\t\t\t{fieldname: 'item_code', columns: 3},\n\t\t\t{fieldname: 'qty', columns: 1, width:66},\n\t\t\t{fieldname: 'uom', columns: 1},\n\t\t\t{fieldname: 'warehouse', columns: 2},\n\t\t\t{fieldname: 'schedule_date', columns: 1}\n\t\t];\n\t},\n})", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Item", 
  "modified": "2018-01-25 10:55:35.319840", 
  "name": "Item-Client", 
  "script": "cur_frm.set_query(\"default_gudang\", function(frm) {\n\treturn {\n\t\tfilters: {\n\t\t\t'is_group': 1,\n\t\t\t'type': 'Warehouse'\n\t\t}\n\t}\n});\ncur_frm.set_query(\"default_section\", function(frm) {\n\treturn {\n\t\tfilters: {\n\t\t\t'is_group': 1,\n\t\t\t'type': 'Section',\n\t\t\t'parent': cur_frm.doc.default_gudang\n\t\t}\n\t}\n});\ncur_frm.set_query(\"default_location\", function(frm) {\n\treturn {\n\t\tfilters: {\n\t\t\t'is_group': 0,\n\t\t\t'type': 'Location',\n\t\t\t'parent': cur_frm.doc.default_section\n\t\t}\n\t}\n});\nfrappe.ui.form.on('Item', {\n\tdefault_location: function(frm){\n\t\tfrm.set_value(\"default_warehouse\", frm.doc.default_location);\n\t}\n})", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Sales Order", 
  "modified": "2018-02-13 15:50:05.008275", 
  "name": "Sales Order-Client", 
  "script": "frappe.ui.form.on(\"Sales Order\", {\n\trefresh: function(frm){\n/*\t\tif(frm.doc.docstatus == 1 && frm.doc.golden_status == \"Pick\") {\n\t\t\tcur_frm.add_custom_button(__('Paking'), cur_frm.cscript['Make Packing'], __(\"Make\"));\n\t\t\tcur_frm.page.set_inner_btn_group_as_primary(__(\"Make\"));\n\t\t}\n*/\n\t\tif(frm.doc.__islocal){\n\t\t\tfrm.set_value(\"golden_status\", \"Draft\");\n\t\t}\n\t},\n})\nfrappe.ui.form.on('Sales Order Item', {\n\titem_code: function(frm, cdt, cdn){\n\t\trow = locals[cdt][cdn];\n\t\tfrappe.call({\n\t\t\t\"method\": \"frappe.client.get\",\n\t\t\targs: {\n\t\t\t\tdoctype: \"Item\",\n\t\t\t\tname: row.item_code\n\t\t\t},\n\t\t\tcallback: function (data) {\n\t\t\t\tfrappe.model.set_value(cdt, cdn, \"default_gudang\", data.message.default_gudang);\n\t\t\t\tfrappe.model.set_value(cdt, cdn, \"default_section\", data.message.default_section);\n\t\t\t\tfrappe.model.set_value(cdt, cdn, \"default_location\", data.message.default_location);\n\t\t\t}\n\t\t})\n\t},\n\tdefault_location: function(frm, cdt, cdn){\n\t\trow = locals[cdt][cdn];\n\t\tfrappe.model.set_value(cdt, cdn, \"warehouse\", row.default_location);\n\t}\n})\ncur_frm.set_query(\"default_gudang\", \"items\", function(doc, cdt, cdn) {\n\tvar d = locals[cdt][cdn];\n\treturn {\n\t\tfilters: [\n\t\t\t['is_group', '=', 1]\n\t\t]\n\t}\n});\ncur_frm.set_query(\"default_section\", \"items\", function (doc, cdt, cdn) {\n\tvar row = locals[cdt][cdn];\n\treturn {\n\t\tfilters: {\n\t\t\t'is_group': 1,\n\t\t\t'type': 'Section',\n\t\t\t'parent': row.default_gudang\n\t\t}\n\t}\n});\ncur_frm.set_query(\"default_location\", \"items\", function (doc, cdt, cdn) {\n\tvar row = locals[cdt][cdn];\n\treturn {\n\t\tfilters: {\n\t\t\t'is_group': 0,\n\t\t\t'type': 'Location',\n\t\t\t'parent': row.default_section\n\t\t}\n\t}\n});\ncur_frm.cscript['Make Packing'] = function() {\n\tfrappe.model.open_mapped_doc({\n\t\tmethod: \"golden.golden.stock.make_packing_list\",\n\t\tfrm: cur_frm\n\t})\n}", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Sales Invoice", 
  "modified": "2018-04-16 16:01:31.211467", 
  "name": "Sales Invoice-Client", 
  "script": "frappe.ui.form.on(\"Sales Invoice\", {\n\trefresh: function(frm){\n\t\tcur_frm.set_df_property(\"project\", \"read_only\", 1);\n\t\tcur_frm.set_df_property(\"is_pos\", \"hidden\", 1);\n\t\tcur_frm.set_df_property(\"update_stock\", \"hidden\", 1);\n\t\tvar df = frappe.meta.get_docfield(\"Sales Invoice Item\", \"barcode\", cur_frm.doc.name);\n\t\tdf.hidden = 1;\n\t\t//frm.refresh_fields();\n\t},\n\tonload: function(frm){\n\t\t//cur_frm.set_df_property(\"project\", \"read_only\", 1);\n\t},\n\tvalidate: function(frm){\n\t\tif(frm.doc.rss_get_item_count == 0){\n\t\t\tmsgprint(\"You have not clicked 'Update Items'\");\n\t\t\tvalidated = false;\n\t\t}\n\t},\n\trss_get_items: function(frm){\n\t\tfrm.set_value(\"rss_get_item_count\", \"1\");\n\t\tvar tbl = frm.doc.items|| [];\n\t\tvar i = tbl.length;\n\t\twhile (i--) {\n\t\t\tif(frm.doc.items[i].sales_order != \"\"){\n\t\t\t\tfrm.set_value(\"rss_sales_order\", frm.doc.items[i].sales_order);\n\t\t\t}\n\t\t}\n\t\tfrm.events.items_from_delivery(frm);\n\t\tfrm.refresh_fields();\n\t},\n\titems_from_delivery: function(frm){\n\t\tfrm.clear_table(\"items\");\n\t\treturn frappe.call({\n\t\t\tmethod: 'golden.golden.selling.get_items_from_dn',\n\t\t\targs: {\n\t\t\t\tsales_order: frm.doc.rss_sales_order\n\t\t\t},\n\t\t\tcallback: function(r, rt) {\n\t\t\t\tif(r.message) {\n\t\t\t\t\t$.each(r.message, function(i, d) {\n\t\t\t\t\t\tvar c = frm.add_child(\"items\");\n\t\t\t\t\t\tc.item_code = d.item_code;\n\t\t\t\t\t\tc.item_name = d.item_name;\n\t\t\t\t\t\tc.description = d.description;\n\t\t\t\t\t\tc.image = d.image;\n\t\t\t\t\t\tc.qty = d.qty;\n\t\t\t\t\t\tc.stock_uom = d.stock_uom;\n\t\t\t\t\t\tc.uom = d.uom;\n\t\t\t\t\t\tc.conversion_factor = d.conversion_factor;\n\t\t\t\t\t\tc.stock_qty = d.stock_qty;\n\t\t\t\t\t\tc.price_list_rate = d.price_list_rate;\n\t\t\t\t\t\tc.base_price_list_rate = d.base_price_list_rate;\n\t\t\t\t\t\tc.margin_type = d.margin_type;\n\t\t\t\t\t\tc.discount_percentage = d.discount_percentage;\n\t\t\t\t\t\tc.rate = d.rate;\n\t\t\t\t\t\tc.amount = d.amount;\n\t\t\t\t\t\tc.base_rate = d.base_rate;\n\t\t\t\t\t\tc.base_amount = d.base_amount;\n\t\t\t\t\t\tc.net_rate = d.net_rate;\n\t\t\t\t\t\tc.net_amount = d.net_amount;\n\t\t\t\t\t\tc.base_net_rate = d.base_net_rate;\n\t\t\t\t\t\tc.base_net_amount = d.base_net_amount;\n\t\t\t\t\t\tc.income_account = d.income_account;\n\t\t\t\t\t\tc.expense_account = d.expense_account;\n\t\t\t\t\t\tc.warehouse = d.warehouse;\n\t\t\t\t\t\tc.sales_order = d.sales_order;\n\t\t\t\t\t\tc.so_detail = d.so_detail;\n\t\t\t\t\t\tc.delivery_note = d.delivery_note;\n\t\t\t\t\t\tc.dn_detail = d.dn_detail;\n\t\t\t\t\t})\n\t\t\t\t\tfrm.refresh_fields();\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t},\n});", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Company", 
  "modified": "2018-02-21 12:57:48.591604", 
  "name": "Company-Client", 
  "script": "cur_frm.set_query(\"default_purchase_return_account\", function(frm) {\n\treturn {\n\t\tquery: \"erpnext.controllers.queries.get_expense_account\",\n\t}\n});\ncur_frm.set_query(\"default_selling_return_account\", function(frm) {\n\treturn {\n\t\tquery: \"erpnext.controllers.queries.get_expense_account\",\n\t}\n});", 
  "script_type": "Client"
 }
]